# 数组中重复的数字



## 1 题目

[leetcode-剑指offer-03]: https://leetcode-cn.com/problems/shu-zu-zhong-zhong-fu-de-shu-zi-lcof/



## 2 关键想法等

### 2.1 哈希表/数组-hash.cpp

1. 很容易想到，**利用值的唯一性**
2. 对出现过的数字进行统计判断
3. unordered_map
4. 时间O（n）
5. 空间O（n）

### 2.2 排序-sort.cpp

1. 重复：**若有序，相邻两者有重复就是重复，即非单调递增序列**
2. 直接调用algorithm头文件的sort
3. 时间O（nlogn）
4. 空间O（1）：==利用原来的数组空间==

### 2.3 交换重排-exchange.cpp

1. 重复：交换和被交换的数值相等。（利用数组的index与数值的关系进行调整存放，这个对**数值范围特殊**的很有用）
2. 每个数字最多只要交换两次就能找到属于它自己的位置。假设b的位置属于c
   1. 交换a和b（使得a定）
   2. 交换b和c（使得b定）
3. 时间O（n）
4. 空间O（1）：==利用原来的数组空间==



## 3 注意

1. 在判断前需要进行一定的检查
   1. 输入为空
   2. 数组中的数超过数值范围
   
2. 包含多个重复数字（题目只要求找出**任意一个**） 

3. 若再对数组长度加以限制，就可以考虑是否去掉“保证数组至少有一个重复数字“的判断

4. [C++ Vector用法]: https://blog.csdn.net/wkq0825/article/details/82255984

      

## 4 拓展

### 4.1 能否找出所有？按顺序找出所有？

仍是长度为n，范围0-n-1

1. 数组-array.cpp
   - 统计出现次数大于1的index即可
   - 从前到后遍历，即按照顺序找出
2. 排序-sort_all.cpp
   - 相邻两个相同即可以找出，从小到大排序天然符合顺序找出所有
   - 但是如何不重复输出？即如果有超过两个重复的如何控制只输出一次？
     - `方法1`：用change控制之前两个是否一致
     - `方法2`：用pre表示前一个重复的数字
       - 若当前数字被判断重复，且与pre**一致**，则不输出
       - 若当前数字被判断重复，且与pre**不一致**，则输出
3. 交换重排-exchange_all_unorder.cpp
   - 利用**哑元素P**将重复位置上的元素置为P，从而**避免重复输出**
     - 扫描中重复直接输出并置为P会导致输出无序
     - 若想要有序输出，置为P的时候不输出，最后从头到尾再次遍历，输出值为P的index

### 4.2 不修改数组找出任意一个重复的数字？

**长度为n+1**，数字范围为1-n

=》数组中至少有一个为重复，则对“保证数组至少有一个重复数字“的判断可以去掉

1. 哈希表/数组-hash.cpp
   - 去掉对“保证数组至少有一个重复数字“的判断
   - 或者创建一个长度为n+1的辅助数组，然后原数组的元素copy至相应index下
   - **扩展后**可以找出所有重复的数字
2. 类二分查找法-count_range.cpp
   - 如何判断重复=》统计某范围里数字的个数
   - 以时间换空间
   - 时间O（nlogn）
   - 空间O（1）
   - **不能保证找出所有重复的数字**
